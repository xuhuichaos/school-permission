{"version":3,"file":"js/281.0cab6705.js","mappings":"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","sources":["webpack://quanxiang/./src/renderTime.js","webpack://quanxiang/./src/components/power/Rights.vue","webpack://quanxiang/./src/components/power/Rights.vue?a116"],"sourcesContent":["// 处理后台发送的数据库返回的时间格式\nconst renderTime = (list, str) => {\n    for (let k of list) {\n        var date = new Date(k[str]).toJSON()\n        k[str] = new Date(+new Date(date) + 8 * 3600 * 1000).toISOString().replace(/T/g, ' ').replace(/\\.[\\d]{3}Z/, '')\n    }\n    return list;\n}\n\nexport default renderTime","<template>\n  <div>\n    <!-- 面包屑区域 -->\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片区域 -->\n    <el-card>\n      <el-row>\n        <el-button type=\"primary\" @click=\"addDialogVisible = true\"\n          ><el-icon><Plus /></el-icon>\n          <span style=\"vertical-align: middle\"> 添加权限 </span></el-button\n        >\n      </el-row>\n      <el-table :data=\"rightsList\" style=\"width: 100%\" border stripe>\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\n        <el-table-column\n          prop=\"description\"\n          label=\"权限名称\"\n          width=\"100\"\n        ></el-table-column>\n        <el-table-column prop=\"url\" label=\"路径\"></el-table-column>\n        <el-table-column prop=\"type\" label=\"类别\" width=\"100\"></el-table-column>\n        <el-table-column prop=\"level\" label=\"权限等级\" width=\"85\">\n          <template v-slot=\"slotProps\">\n            <el-tag effect=\"plain\" v-if=\"slotProps.row.hasChildren === 1\"\n              >一级</el-tag\n            >\n            <el-tag effect=\"plain\" type=\"success\" v-else>二级</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"pid\" label=\"父级权限\" width=\"95\" align=\"center\">\n          <template v-slot=\"slotProps\">\n            <el-tag effect=\"plain\" v-if=\"slotProps.row.pid === 8\"\n              >学校管理</el-tag>\n            <el-tag effect=\"plain\" v-if=\"slotProps.row.pid === 6\"\n              >专业管理</el-tag>\n              <el-tag effect=\"plain\" v-if=\"slotProps.row.pid === 36\"\n              >用户管理</el-tag>\n              <el-tag effect=\"plain\" v-if=\"slotProps.row.pid === 35\"\n              >api管理</el-tag>\n              <el-tag effect=\"plain\" v-if=\"slotProps.row.pid === 34\"\n              >内容管理</el-tag>\n            <el-tag effect=\"plain\" type=\"success\" v-if=\"slotProps.row.pid === 0\">无</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\n        <el-table-column label=\"操作\" width=\"140\">\n          <template v-slot=\"slotProps\">\n            <el-tooltip content=\"修改权限\" placement=\"top\">\n              <el-button\n                type=\"primary\"\n                @click=\"showEditDialog(slotProps.row.id)\"\n              >\n                <el-icon>\n                  <Edit />\n                </el-icon>\n              </el-button>\n            </el-tooltip>\n            <el-tooltip content=\"删除权限\" placement=\"top\">\n              <el-button\n                type=\"danger\"\n                @click=\"removePermission(slotProps.row.id)\"\n              >\n                <el-icon>\n                  <Delete />\n                </el-icon>\n              </el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <!-- 添加用户对话框 -->\n    <el-dialog\n      v-model=\"addDialogVisible\"\n      title=\"添加新权限\"\n      width=\"40%\"\n      @close=\"addDialogClosed\"\n    >\n      <el-form\n        ref=\"addFormRef\"\n        :model=\"permission\"\n        :rules=\"FormRules\"\n        label-width=\"80px\"\n      >\n        <el-form-item label=\"权限名称\" prop=\"description\">\n          <el-input v-model=\"permission.description\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"父级权限\" prop=\"pid\">\n          <el-select\n            v-model=\"permission.pid\"\n            placeholder=\"请选择父级权限\"\n          >\n            <el-option\n              v-for=\"item in rightsList\"\n              :key=\"item.id\"\n              :label=\"item.description\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"类别\" prop=\"type\">\n          <el-input v-model=\"permission.type\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"路径\" prop=\"url\">\n          <el-input v-model=\"permission.url\"></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"addDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"addPermission\"> 确定 </el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <!-- 修改用户对话框 -->\n    <el-dialog v-model=\"editDialogVisible\" title=\"修改用户信息\" width=\"40%\">\n      <el-form\n        ref=\"editFormRef\"\n        :model=\"editForm\"\n        :rules=\"FormRules\"\n        label-width=\"80px\"\n      >\n        <el-form-item label=\"权限名称\" prop=\"description\">\n          <el-input v-model=\"editForm.description\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"父级权限\" prop=\"pid\">\n          <el-select\n            v-model=\"editForm.pid\"\n            clearable\n            placeholder=\"请选择父级权限\"\n          >\n            <el-option\n              v-for=\"item in rightsList\"\n              :key=\"item.id\"\n              :label=\"item.description\"\n              :value=\"item.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"类别\" prop=\"type\">\n          <el-input v-model=\"editForm.type\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"路径\" prop=\"url\">\n          <el-input v-model=\"editForm.url\"></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"editDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"editPermission\"> 确定 </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport FormatTime from '@/renderTime'\nexport default {\n  data() {\n    return {\n      // 获取的权限列表\n      rightsList: [],\n      // 添加权限的表单\n      permission: {\n        code: '',\n        createTime: '',\n        deleted: 0,\n        description: '',\n        hasChildren: 1,\n        id: 0,\n        pid: 0,\n        type: '',\n        updateTime: '',\n        url: ''\n      },\n      editForm: {},\n      // 添加权限对话框的显示与隐藏\n      addDialogVisible: false,\n      // 修改权限对话框的显示与隐藏\n      editDialogVisible: false,\n      FormRules: {\n        description: [\n          { required: true, message: '请输入权限名称', trigger: 'blur' }\n        ],\n        pid: [\n          {\n            required: true,\n            message: '请输入父级默认0是顶级管理',\n            trigger: 'blur'\n          }\n        ],\n        type: [{ required: true, message: '请输入类别', trigger: 'blur' }],\n        url: [{ required: true, message: '请输入路径', trigger: 'blur' }]\n      }\n    }\n  },\n  created() {\n    this.getRightsList()\n  },\n  methods: {\n    // 获取权限列表\n    async getRightsList() {\n      const { data: res } = await this.$http.get('/api/permission/all')\n      console.log(res)\n      if (!res.success) return this.$message.error('获取权限列表失败！')\n      FormatTime(res.data.permissions, 'createTime')\n      this.rightsList = res.data.permissions\n    },\n    // 获取修改用户的信息\n    async showEditDialog(id) {\n      const { data: res } = await this.$http.get('/api/permission/one', {\n        params: { id: id }\n      })\n      console.log(id)\n      if (!res.success) {\n        return this.$message.error('查询权限信息失败!')\n      }\n      console.log(res.data.permission)\n      this.editForm = res.data.permission\n      this.editDialogVisible = true\n    },\n    // 添加权限\n    addPermission() {\n      // 表单提交预验证\n      this.$refs.addFormRef.validate(async (valid) => {\n        if (!valid) return false\n        // 生成随机id\n        const permissionId = Math.floor(Math.random() * (100000 - 1 + 1)) + 1\n        const permissionCode = Math.floor(Math.random() * (1000 - 1 + 1)) + 1\n        this.permission.id = permissionId\n        this.permission.code = permissionCode\n        const { data: res } = await this.$http.post(\n          '/api/permission/add',\n          this.permission\n        )\n        console.log(res, this.permission)\n        if (!res.success) return this.$message.error('添加权限失败！')\n        this.addDialogVisible = false\n        this.getRightsList()\n        this.$message.success('添加权限成功！')\n      })\n    },\n    // 监听添加权限对话框关闭清除数据\n    addDialogClosed() {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 提交修改用户的信息\n    editPermission() {\n      this.$refs.editFormRef.validate(async (valid) => {\n        if (!valid) return false\n        const { data: res } = await this.$http.post(\n          '/api/permission/edit',\n          this.editForm\n        )\n        if (!res.success) return this.$message.error('修改用户信息失败！')\n        this.editDialogVisible = false\n        this.getRightsList()\n        this.$message.success('修改用户信息成功！')\n      })\n    },\n    // 删除权限\n    async removePermission(id) {\n      const confirmResult = await this.$confirm(\n        '是否永久删除该权限?',\n        '删除权限',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).catch((err) => err)\n\n      // 点击确认，返回值为字符串 confirm\n      // 点击删除，返回值为字符串 cancel\n      if (confirmResult !== 'confirm') return this.$message.info('取消删除')\n      const { data: res } = await this.$http.get('/api/permission/delete', {\n        params: { id: id }\n      })\n      console.log(res)\n      if (!res.success) return this.$message.error(res.msg)\n      this.getRightsList()\n      this.$message.success('删除权限成功')\n    }\n  }\n}\n</script>\n","import { render } from \"./Rights.vue?vue&type=template&id=7e2db172\"\nimport script from \"./Rights.vue?vue&type=script&lang=js\"\nexport * from \"./Rights.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["renderTime","list","str","k","date","Date","toJSON","toISOString","replace","_createElementVNode","style","class","_createElementBlock","_createVNode","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","_component_el_card","_component_el_row","_component_el_button","type","onClick","_cache","$event","$data","addDialogVisible","_component_el_icon","_component_Plus","_hoisted_1","_component_el_table","data","rightsList","border","stripe","_component_el_table_column","label","prop","width","slotProps","row","hasChildren","_createBlock","_component_el_tag","effect","align","pid","_component_el_tooltip","content","placement","$options","showEditDialog","id","_component_Edit","removePermission","_component_Delete","_component_el_dialog","title","onClose","addDialogClosed","footer","_withCtx","_hoisted_2","addPermission","_component_el_form","ref","model","permission","rules","FormRules","_component_el_form_item","_component_el_input","description","_component_el_select","placeholder","_Fragment","_renderList","item","_component_el_option","key","value","url","editDialogVisible","_hoisted_3","editPermission","editForm","clearable","code","createTime","deleted","updateTime","required","message","trigger","created","this","getRightsList","methods","async","res","$http","get","console","log","success","$message","error","FormatTime","permissions","params","$refs","addFormRef","validate","valid","permissionId","Math","floor","random","permissionCode","post","resetFields","editFormRef","confirmResult","$confirm","confirmButtonText","cancelButtonText","catch","err","info","msg","__exports__","render"],"sourceRoot":""}