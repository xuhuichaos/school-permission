"use strict";(self["webpackChunkquanxiang"]=self["webpackChunkquanxiang"]||[]).push([[580],{2580:function(e,o,r){r.r(o),r.d(o,{default:function(){return d}});var s=r(3396);const l={class:"login"},t={class:"login-form"},a={class:"login-form-logo"};function u(e,o,r,u,n,i){const m=(0,s.up)("ChromeFilled"),d=(0,s.up)("el-icon"),c=(0,s.up)("el-input"),f=(0,s.up)("el-form-item"),p=(0,s.up)("el-button"),g=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",t,[(0,s._)("div",a,[(0,s.Wm)(d,{size:140},{default:(0,s.w5)((()=>[(0,s.Wm)(m)])),_:1})]),(0,s.Wm)(g,{ref:"ruleFormRef",model:e.userForm,"status-icon":"",rules:e.rules,class:"login-ruleForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{prop:"email"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:e.userForm.email,"onUpdate:modelValue":o[0]||(o[0]=o=>e.userForm.email=o),autocomplete:"off",placeholder:"请输入你的用户邮箱","suffix-icon":"Message"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(f,{prop:"password"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:e.userForm.password,"onUpdate:modelValue":o[1]||(o[1]=o=>e.userForm.password=o),type:"password",autocomplete:"off",placeholder:"请输入你的用户密码","suffix-icon":"Lock"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(f,{class:"login-form-btns"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{type:"primary",onClick:e.btnLogin},{default:(0,s.w5)((()=>[(0,s.Uk)("用户登录")])),_:1},8,["onClick"]),(0,s.Wm)(p,{onClick:e.resetForm},{default:(0,s.w5)((()=>[(0,s.Uk)("Reset")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])}r(7658);var n=(0,s.aZ)({data(){return{n:30,userForm:{email:"",password:""},rules:{email:[{required:!0,message:"请输入正确的电子邮箱",trigger:"blur"},{type:"email",message:"电子邮箱格式错误",trigger:"blur"}],password:[{required:!0,message:"请输入正确的用户密码",trigger:"blur"},{min:8,message:"密码长度不得小于8个字符",trigger:"blur"}]}}},mounted(){},methods:{btnLogin(){const e=this,o=e.$refs.ruleFormRef;o&&o.validate((o=>{if(!o)return console.log("error submit!"),!1;{const o=this.$http.post("api/mobile/elogin",this.userForm);o.then((o=>{if(console.log(o.data),!o.data.success)return!1;{const r=o.data.data.userinfo;console.log(r.token),window.sessionStorage.setItem("token",r.token),e.$router.push("/home/users")}})).catch((e=>{console.log(e)}))}}))},resetForm(){const e=this.$refs.ruleFormRef;e.resetFields()}}}),i=r(89);const m=(0,i.Z)(n,[["render",u],["__scopeId","data-v-0e2f266a"]]);var d=m}}]);
//# sourceMappingURL=580.2ffb7b4a.js.map